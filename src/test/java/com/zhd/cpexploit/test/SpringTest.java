package com.zhd.cpexploit.test;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.jdbc.core.JdbcTemplate;

import com.zhd.cpexploit.service.TestServiceA;

public class SpringTest {
	public static void main(String[] args) {
//		init();
		doWork();

	}

	private static void doWork() {
		ApplicationContext context = new ClassPathXmlApplicationContext("classpath:applicationContext.xml");
		TestServiceA testServiceA = context.getBean(TestServiceA.class);
		try {
			testServiceA.doWorkA(true);
		} catch (Exception e) {
			System.out.println("异常："+e.getClass().getName());
		}
		System.out.println("success");
	}

	private static void init() {
		ApplicationContext context = new ClassPathXmlApplicationContext("classpath:applicationContext.xml");
		JdbcTemplate jdbcTemplate = context.getBean(JdbcTemplate.class);
		String sql = "update  `account` t set t.accountbalance=1000";
		jdbcTemplate.update(sql);
	}
}
